<!DOCTYPE html>
<html lang="en">
<head>
	<title>Login V15</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
<!--===============================================================================================-->	
	<link rel="icon" type="image/png" href="images/icons/favicon.ico"/>
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/bootstrap/css/bootstrap.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="fonts/font-awesome-4.7.0/css/font-awesome.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="fonts/Linearicons-Free-v1.0.0/icon-font.min.css">
<!--==
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="css/util.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="https://www.gstatic.com/firebasejs/5.5.3/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.5.3/firebase-database.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script>

    //     var el = document.getElementById('abc'),
    // elClone = el.cloneNode(true);

// el.parentNode.replaceChild(elClone, el);

          // Your web app's Firebase configuration
          var firebaseConfig = {
            apiKey: "AIzaSyB2Bb5dL56yeyoFU06QL-A08wDbXFaU3ss",
            authDomain: "sera-poo-2019.firebaseapp.com",
            databaseURL: "https://sera-poo-2019.firebaseio.com",
            projectId: "sera-poo-2019",
            storageBucket: "sera-poo-2019.appspot.com",
            messagingSenderId: "483948033234",
            appId: "1:483948033234:web:b62d14af037508a72e290b"
          };
          firebase.initializeApp(firebaseConfig);
       
     var tupleObj = {};
    firebase.database().ref('questions/' + 0).on('value', function(snapshot) {
        var question = snapshot.val().question;
        var answer = snapshot.val().answer;
        tupleObj[question] = answer;
    });
    firebase.database().ref('questions/' + 1).on('value', function(snapshot) {
        var question = snapshot.val().question;
        var answer = snapshot.val().answer;
        tupleObj[question] = answer;
    });
    firebase.database().ref('questions/' + 2).on('value', function(snapshot) {
        var question = snapshot.val().question;
        var answer = snapshot.val().answer;
        tupleObj[question] = answer;
    });
    firebase.database().ref('questions/' + 3).on('value', function(snapshot) {
        var question = snapshot.val().question;
        var answer = snapshot.val().answer;
        tupleObj[question] = answer;
    });
    firebase.database().ref('questions/' + 4).on('value', function(snapshot) {
        var question = snapshot.val().question;
        var answer = snapshot.val().answer;
        tupleObj[question] = answer;
    });

    var question1 = "";
    var question2 = "";
    var question3 = "";
    var question4 = "";
    var question5 = "";

    function test2() {
        question1 = document.getElementById("question1").value;
        question2 = document.getElementById("question2").value;
        question3 = document.getElementById("question3").value;
        question4 = document.getElementById("question4").value;
        question5 = document.getElementById("question5").value;

    }

    // When the user clicks on <span> (x), close the modal


// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}

    // function test() {
    //     if (question1 == tupleObj["question1"] && question2 == tupleObj["question2"]) {
    //         console.log("success");
    //     } else {
    //         console.log("fail");
    //     }
    //     return window.location.href='index2.html';
    // }

    function loadContent(){
                var clientType
                //your code to get client type here

                //Below block to get Ajax client object according to your browser type
                var XHTTP;
                try
                {
                    //For morden versions Internet Explorer
                    XHTTP = new ActiveXObject("Msxml2.XMLHTTP");
                }
                catch (ex)
                {
                    try
                    {
                        try
                        {
                            //For old versions Internet Explorer
                            XHTTP=new ActiveXObject("Microsoft.XMLHTTP");
                        }
                        catch(exxx)
                        {
                            XHTTP = new XMLHttpRequest("Msxml2.XMLHTTP");
                        }
                    }
                    catch(exx)
                    {
                        try
                        {
                            //For browsers other than Internet Explorer
                            XHTTP= new XMLHttpRequest();
                        }
                        catch(eexx)
                        {
                            //This means ActiveX is not enabled.
                            //To enabled go to your browser settings and enabled the ActiveX.
                            alert("Not Supported, It might be previous version browser");
                        }
                    }
                }

                if(clientType=="mobile"){
                    XHTTP.open("GET","/index2.html");
                }else{
                    XHTTP.open("GET","/index2.html")
                }

                XHTTP.onreadystatechange= function()
                {
                    if (XHTTP.readyState==4)
                    {
                        var result=XHTTP.responseText.toString();
                        document.getElementById("content").innerHTML=result;
                    }
                }
                //This finlly send the request.
                XHTTP.send(null);

            }


        </script>
</head>
<body>

        <div id="myModal" class="modal">

                <!-- Modal content -->
                <div class="modal-content">
                  <span class="close">&times;</span>
                  <p>Your responses are not quite right!</p>
                </div>
              
        </div>
	
	<div class="limiter">
		<div class="container-login100">
			<div class="wrap-login100">
				<div class="login100-form-title" style="background-image: url(images/bg-01.jpg);">
					<span class="login100-form-title-1">
						Answer those questions to download super secret file!
					</span>
				</div>

				<form class="login100-form validate-form" style="display:table;">
					<div class="wrap-input100 validate-input m-b-70" data-validate="You gotta write something u poo!">
						<input id="question1" class="input100" type="text" name="username" placeholder="Which restaurant was our first date? (two words!)" onchange="test2()">
					</div>
					<div class="wrap-input100 validate-input m-b-70" data-validate = "You gotta write something u poo!">
						<input id="question2" class="input100" type="text" name="pass" placeholder="What's my favourite dessert? (two words!!)" onchange="test2()">
					</div>
                    <div class="wrap-input100 validate-input m-b-70" data-validate = "You gotta write something u poo!">
                            <input id="question3" class="input100" type="text" name="pass" placeholder="What is your nickname! (hint: check website url)" onchange="test2()">
                    </div>
                    <div class="wrap-input100 validate-input m-b-70" data-validate = "You gotta write something u poo!">
                            <input id="question4" class="input100" type="text" name="pass" placeholder="What is my nickname! (Who loves you soo sooo much!)" onchange="test2()">
                    </div>
                    <div class="wrap-input100 validate-input m-b-70" data-validate = "You gotta write something u poo!">
                            <input id="question5" class="input100" type="text" name="pass" placeholder="Where was our first vacation!" onchange="test2()">
                    </div>
					<div class="container-login100-form-btn">
                            <div id="myBtn" class="login100-form-btn" style="cursor: pointer;">
                                     DOWNLOAD THE FILE! 
                                  </div>
                
					</div>
				</form>
			</div>
		</div>
    </div>
    <script>
            // Get the modal
            var modal = document.getElementById("myModal");
            
            // Get the button that opens the modal
            var btn = document.getElementById("myBtn");
            
            // Get the <span> element that closes the modal
            var span = document.getElementsByClassName("close")[0];
            
            // When the user clicks the button, open the modal 
            btn.onclick = function() {
                if (question1 == tupleObj["question1"] && question2 == tupleObj["question2"] && question3 == tupleObj["question3"] && question4 == tupleObj["question4"] && question5 == tupleObj["question5"] ) {
            console.log("success");
        } else {
            modal.style.display = "block";
            console.log("fail");
        }
        console.log(question1);
        console.log(question2);
        console.log(question3);
        console.log(question4);
        console.log(question5);

        console.log(tupleObj["question1"]);
        console.log(tupleObj["question2"]);
        console.log(tupleObj["question3"]);
        console.log(tupleObj["question4"]);
        console.log(tupleObj["question5"]);

            }
            
            // When the user clicks on <span> (x), close the modal
            span.onclick = function() {
              modal.style.display = "none";
            }
            
            // When the user clicks anywhere outside of the modal, close it
            window.onclick = function(event) {
              if (event.target == modal) {
                modal.style.display = "none";
              }
            }
            </script>
    
    
 

</body>

<!-- The core Firebase JS SDK is always required and must be listed first -->

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->



</html>
